# –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –í–®–≠ –¥–ª—è –ê–ª–∏—Å—ã

[![Python Version](https://img.shields.io/badge/python-3.8+-blue.svg)](https://www.python.org/downloads/)
[![YDB](https://img.shields.io/badge/database-Yandex%20Database-important)](https://ydb.tech/)
[![License](https://img.shields.io/badge/license-MIT-green.svg)](LICENSE)

–ì–æ–ª–æ—Å–æ–≤–æ–π –Ω–∞–≤—ã–∫ –¥–ª—è –ê–ª–∏—Å—ã, –ø–æ–º–æ–≥–∞—é—â–∏–π —Å—Ç—É–¥–µ–Ω—Ç–∞–º –∏ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è–º –ù–ò–£ –í–®–≠ —Ä–∞–±–æ—Ç–∞—Ç—å —Å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ–º –∑–∞–Ω—è—Ç–∏–π.

## üîç –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üìÖ –ü—Ä–æ—Å–º–æ—Ç—Ä —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è (—Å–µ–≥–æ–¥–Ω—è/–∑–∞–≤—Ç—Ä–∞/–∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è –¥–∞—Ç–∞)
- üîç –ü–æ–∏—Å–∫ –ø–∞—Ä –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –ø—Ä–µ–¥–º–µ—Ç–∞ –∏–ª–∏ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—é
- üë®‚Äçüéì –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª—è —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ –∏ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π
- ‚úèÔ∏è –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –∑–∞–Ω—è—Ç–∏–π –≤ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ
- üîÑ –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- üì± –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≥–æ–ª–æ—Å–æ–≤—ã—Ö –∏ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **–Ø–∑—ã–∫**: Python 3.8+
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: Yandex Database (YDB)
- **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**: –°—Ü–µ–Ω–∞—Ä–Ω–∞—è –º–æ–¥–µ–ª—å (Finite State Machine)
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**: –Ø–Ω–¥–µ–∫—Å –î–∏–∞–ª–æ–≥–∏ API

  üèó –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

–ò–ª–∏ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç —Å –ø–æ–¥—Å–≤–µ—Ç–∫–æ–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ (–µ—Å–ª–∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è):

````markdown
## üèó –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```text
alice-1.0/
‚îú‚îÄ‚îÄ scenes/               # –î–∏–∞–ª–æ–≥–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ registration.py   # –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
‚îÇ   ‚îú‚îÄ‚îÄ schedule.py       # –†–∞–±–æ—Ç–∞ —Å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ–º
‚îÇ   ‚îî‚îÄ‚îÄ ...               
‚îú‚îÄ‚îÄ ydb_queries/          # –ó–∞–ø—Ä–æ—Å—ã –∫ YDB
‚îÇ   ‚îú‚îÄ‚îÄ registration.py   # –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
‚îÇ   ‚îî‚îÄ‚îÄ schedule.py       # –ó–∞–ø—Ä–æ—Å—ã —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è
‚îú‚îÄ‚îÄ state.py              # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º
‚îú‚îÄ‚îÄ request.py            # –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤
‚îú‚îÄ‚îÄ handler.py            # –ì–ª–∞–≤–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫
‚îî‚îÄ‚îÄ requirements.txt      # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

üìù –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
–¢–∏–ø–æ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã:
"–ö–∞–∫–∏–µ –ø–∞—Ä—ã —Å–µ–≥–æ–¥–Ω—è?"
"–ö–æ–≥–¥–∞ —É –º–µ–Ω—è —Ñ–∏–ª–æ—Å–æ—Ñ–∏—è?"
"–ü–æ–∫–∞–∂–∏ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ —Å—Ä–µ–¥—É"
üõ† –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞
–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
–°—Ü–µ–Ω–∞—Ä–∏–∏ (scenes/):

Welcome - –Ω–∞—á–∞–ª—å–Ω–∞—è —Å—Ü–µ–Ω–∞

Registration - —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

Schedule - —Ä–∞–±–æ—Ç–∞ —Å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ–º

–†–∞–±–æ—Ç–∞ —Å YDB:

python
# –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞
def find_lesson_student(pool, is_group, attr_name, attr_val, group_id, student_id):
    query = f"""
    SELECT * FROM lessons 
    WHERE {attr_name} = '{attr_val}' 
    AND group_id = {group_id}
    """
    return pool.retry_operation_sync(lambda s: s.transaction().execute(query))
